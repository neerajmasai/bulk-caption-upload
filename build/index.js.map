{"version":3,"file":"index.js","mappings":"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","sources":["webpack://bulk-caption-upload/external window \"React\"","webpack://bulk-caption-upload/external window [\"wp\",\"blockEditor\"]","webpack://bulk-caption-upload/external window [\"wp\",\"components\"]","webpack://bulk-caption-upload/external window [\"wp\",\"compose\"]","webpack://bulk-caption-upload/external window [\"wp\",\"element\"]","webpack://bulk-caption-upload/external window [\"wp\",\"hooks\"]","webpack://bulk-caption-upload/external window [\"wp\",\"i18n\"]","webpack://bulk-caption-upload/webpack/bootstrap","webpack://bulk-caption-upload/webpack/runtime/compat get default export","webpack://bulk-caption-upload/webpack/runtime/define property getters","webpack://bulk-caption-upload/webpack/runtime/hasOwnProperty shorthand","webpack://bulk-caption-upload/webpack/runtime/make namespace object","webpack://bulk-caption-upload/./src/index.js"],"sourcesContent":["module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\tif (!(moduleId in __webpack_modules__)) {\n\t\tdelete __webpack_module_cache__[moduleId];\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { Fragment, useState } from '@wordpress/element';\nimport { BlockControls } from '@wordpress/block-editor';\nimport {\n\tToolbarGroup,\n\tToolbarButton,\n\tModal,\n\tButton,\n\tTextControl,\n\tFormFileUpload,\n\tNotice,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n// ---------------------------------------------------------------------------\n// Language detection data structures\n// ---------------------------------------------------------------------------\n\nconst LANGUAGE_MAP = {\n\t// ISO 639-1 two-letter codes\n\taf: 'Afrikaans',\n\tar: 'Arabic',\n\tbg: 'Bulgarian',\n\tbn: 'Bengali',\n\tca: 'Catalan',\n\tcs: 'Czech',\n\tcy: 'Welsh',\n\tda: 'Danish',\n\tde: 'German',\n\tel: 'Greek',\n\ten: 'English',\n\tes: 'Spanish',\n\tet: 'Estonian',\n\teu: 'Basque',\n\tfa: 'Persian',\n\tfi: 'Finnish',\n\tfr: 'French',\n\tga: 'Irish',\n\tgl: 'Galician',\n\tgu: 'Gujarati',\n\the: 'Hebrew',\n\thi: 'Hindi',\n\thr: 'Croatian',\n\thu: 'Hungarian',\n\thy: 'Armenian',\n\tid: 'Indonesian',\n\tis: 'Icelandic',\n\tit: 'Italian',\n\tja: 'Japanese',\n\tka: 'Georgian',\n\tkn: 'Kannada',\n\tko: 'Korean',\n\tlt: 'Lithuanian',\n\tlv: 'Latvian',\n\tmk: 'Macedonian',\n\tml: 'Malayalam',\n\tmr: 'Marathi',\n\tms: 'Malay',\n\tmt: 'Maltese',\n\tnl: 'Dutch',\n\tno: 'Norwegian',\n\tpa: 'Punjabi',\n\tpl: 'Polish',\n\tpt: 'Portuguese',\n\tro: 'Romanian',\n\tru: 'Russian',\n\tsk: 'Slovak',\n\tsl: 'Slovenian',\n\tsq: 'Albanian',\n\tsr: 'Serbian',\n\tsv: 'Swedish',\n\tsw: 'Swahili',\n\tta: 'Tamil',\n\tte: 'Telugu',\n\tth: 'Thai',\n\ttl: 'Filipino',\n\ttr: 'Turkish',\n\tuk: 'Ukrainian',\n\tur: 'Urdu',\n\tvi: 'Vietnamese',\n\tzh: 'Chinese',\n\tzu: 'Zulu',\n\n\t// Common English full-name spellings\n\tenglish: 'English',\n\tspanish: 'Spanish',\n\tfrench: 'French',\n\tgerman: 'German',\n\titalian: 'Italian',\n\tportuguese: 'Portuguese',\n\trussian: 'Russian',\n\tjapanese: 'Japanese',\n\tkorean: 'Korean',\n\tchinese: 'Chinese',\n\tarabic: 'Arabic',\n\thindi: 'Hindi',\n\tdutch: 'Dutch',\n\tpolish: 'Polish',\n\tturkish: 'Turkish',\n\tswedish: 'Swedish',\n\tdanish: 'Danish',\n\tnorwegian: 'Norwegian',\n\tfinnish: 'Finnish',\n\tgreek: 'Greek',\n\tczech: 'Czech',\n\tromanian: 'Romanian',\n\thungarian: 'Hungarian',\n\tukrainian: 'Ukrainian',\n\tthai: 'Thai',\n\tvietnamese: 'Vietnamese',\n\tindonesian: 'Indonesian',\n\tmalay: 'Malay',\n\thebrew: 'Hebrew',\n\tpersian: 'Persian',\n\tbengali: 'Bengali',\n};\n\n// Overrides for ambiguous BCP 47 tags (e.g. zh variants)\nconst BCP47_OVERRIDE_MAP = {\n\t'zh-cn': { srcLang: 'zh-CN', label: 'Chinese (Simplified)' },\n\t'zh-tw': { srcLang: 'zh-TW', label: 'Chinese (Traditional)' },\n\t'zh-hk': { srcLang: 'zh-HK', label: 'Chinese (Traditional, HK)' },\n\t'zh-sg': { srcLang: 'zh-SG', label: 'Chinese (Simplified, SG)' },\n};\n\n/**\n * Detect language from a VTT filename using BCP 47 heuristics.\n *\n * Examples:\n *   \"captions.en.vtt\"     → { srcLang: \"en\",    label: \"English\" }\n *   \"video.de-DE.vtt\"     → { srcLang: \"de-DE\", label: \"German\" }\n *   \"zh-CN.vtt\"           → { srcLang: \"zh-CN\", label: \"Chinese (Simplified)\" }\n *   \"video_spanish.vtt\"   → { srcLang: \"es\",    label: \"Spanish\" }\n *   \"fr-CA.vtt\"           → { srcLang: \"fr-CA\", label: \"French (CA)\" }\n *   \"unlabeled.vtt\"       → { srcLang: \"\",      label: \"\" }\n *\n * @param {string} filename\n * @returns {{ srcLang: string, label: string }}\n */\nfunction detectLanguageFromFilename( filename ) {\n\tif ( ! filename ) return { srcLang: '', label: '' };\n\n\t// Strip .vtt extension (case-insensitive)\n\tconst withoutExt = filename.replace( /\\.vtt$/i, '' );\n\n\t// Split on dots, underscores, spaces.\n\t// Hyphenated tokens stay intact so BCP 47 codes like \"de-DE\", \"fr-CA\" remain one token.\n\tconst tokens = withoutExt.split( /[._\\s]+/ ).filter( Boolean );\n\n\t// Iterate right-to-left — language tag is almost always the last segment\n\tfor ( let i = tokens.length - 1; i >= 0; i-- ) {\n\t\tconst token = tokens[ i ];\n\t\tconst lower = token.toLowerCase();\n\n\t\t// Step 1: BCP 47 override map (handles zh-CN, zh-TW ambiguity etc.)\n\t\tif ( BCP47_OVERRIDE_MAP[ lower ] ) {\n\t\t\treturn BCP47_OVERRIDE_MAP[ lower ];\n\t\t}\n\n\t\t// Step 2: Detect any generic BCP 47 pattern: 2–3 letter lang + hyphen + 2–4 letter region\n\t\t// Handles: de-DE, bg-BG, it-IT, uk-UA, fr-CA, en-US, pt-BR, es-MX, sr-Latn, ...\n\t\tconst bcp47 = token.match( /^([a-zA-Z]{2,3})-([a-zA-Z]{2,4})$/ );\n\t\tif ( bcp47 ) {\n\t\t\tconst langCode = bcp47[ 1 ].toLowerCase(); // \"de\", \"fr\", \"uk\"\n\t\t\tconst regionCode = bcp47[ 2 ].toUpperCase(); // \"DE\", \"CA\", \"UA\"\n\t\t\tconst langLabel = LANGUAGE_MAP[ langCode ];\n\t\t\tif ( langLabel ) {\n\t\t\t\t// When region == lang uppercased (de→DE, it→IT, bg→BG) no suffix needed\n\t\t\t\tconst label =\n\t\t\t\t\tregionCode === langCode.toUpperCase()\n\t\t\t\t\t\t? langLabel\n\t\t\t\t\t\t: `${ langLabel } (${ regionCode })`;\n\t\t\t\treturn { srcLang: `${ langCode }-${ regionCode }`, label };\n\t\t\t}\n\t\t}\n\n\t\t// Step 3: Plain ISO 639-1 code or full English name\n\t\tconst entry = LANGUAGE_MAP[ lower ];\n\t\tif ( entry ) {\n\t\t\treturn { srcLang: lower, label: entry };\n\t\t}\n\t}\n\n\treturn { srcLang: '', label: '' };\n}\n\n// ---------------------------------------------------------------------------\n// BulkCaptionModal component\n// ---------------------------------------------------------------------------\n\nfunction BulkCaptionModal( { attributes, setAttributes, onClose } ) {\n\tconst [ pendingFiles, setPendingFiles ] = useState( [] );\n\tconst [ uploading, setUploading ] = useState( false );\n\tconst [ error, setError ] = useState( null );\n\n\tfunction addFilesToPending( files ) {\n\t\tconst vttFiles = Array.from( files ).filter(\n\t\t\t( f ) => f.name.toLowerCase().endsWith( '.vtt' ) || f.type === 'text/vtt'\n\t\t);\n\t\tconst newItems = vttFiles.map( ( file ) => {\n\t\t\tconst detected = detectLanguageFromFilename( file.name );\n\t\t\treturn { file, srcLang: detected.srcLang, label: detected.label };\n\t\t} );\n\t\tsetPendingFiles( ( prev ) => [ ...prev, ...newItems ] );\n\t}\n\n\tfunction handleDrop( event ) {\n\t\tevent.preventDefault();\n\t\taddFilesToPending( event.dataTransfer.files );\n\t}\n\n\tfunction handleDragOver( event ) {\n\t\tevent.preventDefault();\n\t}\n\n\tfunction handleFileInput( event ) {\n\t\taddFilesToPending( event.target.files );\n\t}\n\n\tfunction updatePending( index, field, value ) {\n\t\tsetPendingFiles( ( prev ) =>\n\t\t\tprev.map( ( item, i ) =>\n\t\t\t\ti === index ? { ...item, [ field ]: value } : item\n\t\t\t)\n\t\t);\n\t}\n\n\tfunction removePending( index ) {\n\t\tsetPendingFiles( ( prev ) => prev.filter( ( _, i ) => i !== index ) );\n\t}\n\n\tfunction handleApply() {\n\t\tsetUploading( true );\n\t\tsetError( null );\n\n\t\tconst mediaUpload =\n\t\t\twp.data.select( 'core/block-editor' ).getSettings().mediaUpload;\n\t\tconst currentTracks = attributes.tracks || [];\n\n\t\tconst results = new Array( pendingFiles.length ).fill( null );\n\t\tlet completedCount = 0;\n\n\t\tpendingFiles.forEach( ( { file, srcLang, label }, index ) => {\n\t\t\tmediaUpload( {\n\t\t\t\tallowedTypes: [ 'text/vtt' ],\n\t\t\t\tfilesList: [ file ],\n\t\t\t\tonFileChange: ( [ media ] ) => {\n\t\t\t\t\tconst url = media && media.url;\n\t\t\t\t\tif ( ! url || url.startsWith( 'blob:' ) ) return; // still uploading\n\t\t\t\t\tresults[ index ] = { src: url, srcLang, label };\n\t\t\t\t\tcompletedCount++;\n\t\t\t\t\tif ( completedCount === pendingFiles.length ) {\n\t\t\t\t\t\tconst validTracks = results.filter( Boolean );\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\ttracks: [ ...currentTracks, ...validTracks ],\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tsetUploading( false );\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonError: () => {\n\t\t\t\t\tresults[ index ] = null;\n\t\t\t\t\tcompletedCount++;\n\t\t\t\t\tif ( completedCount === pendingFiles.length ) {\n\t\t\t\t\t\tconst validTracks = results.filter( Boolean );\n\t\t\t\t\t\tif ( validTracks.length ) {\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\ttracks: [ ...currentTracks, ...validTracks ],\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetError(\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Some files failed to upload.',\n\t\t\t\t\t\t\t\t'bulk-caption-upload'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetUploading( false );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Bulk Upload Captions', 'bulk-caption-upload' ) }\n\t\t\tonRequestClose={ onClose }\n\t\t\tstyle={ { maxWidth: '640px', width: '100%' } }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"bcu-dropzone\"\n\t\t\t\tonDragOver={ handleDragOver }\n\t\t\t\tonDrop={ handleDrop }\n\t\t\t\tstyle={ {\n\t\t\t\t\tborder: '2px dashed #ccc',\n\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\tpadding: '24px',\n\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\tmarginBottom: '16px',\n\t\t\t\t\tbackgroundColor: '#f9f9f9',\n\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<FormFileUpload\n\t\t\t\t\tmultiple\n\t\t\t\t\taccept=\".vtt,text/vtt\"\n\t\t\t\t\tonChange={ handleFileInput }\n\t\t\t\t\trender={ ( { openFileDialog } ) => (\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={ openFileDialog }>\n\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t'Drop .vtt files here, or click to browse',\n\t\t\t\t\t\t\t\t'bulk-caption-upload'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t\t<p style={ { margin: '8px 0 0', color: '#757575', fontSize: '12px' } }>\n\t\t\t\t\t{ __( 'Accepts .vtt files only', 'bulk-caption-upload' ) }\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{ pendingFiles.length > 0 && (\n\t\t\t\t<table style={ { width: '100%', borderCollapse: 'collapse', marginBottom: '16px' } }>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th style={ { textAlign: 'left', padding: '6px 8px', borderBottom: '1px solid #ddd', fontSize: '12px' } }>\n\t\t\t\t\t\t\t\t{ __( 'File', 'bulk-caption-upload' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th style={ { textAlign: 'left', padding: '6px 8px', borderBottom: '1px solid #ddd', fontSize: '12px' } }>\n\t\t\t\t\t\t\t\t{ __( 'Language Code', 'bulk-caption-upload' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th style={ { textAlign: 'left', padding: '6px 8px', borderBottom: '1px solid #ddd', fontSize: '12px' } }>\n\t\t\t\t\t\t\t\t{ __( 'Label', 'bulk-caption-upload' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th style={ { width: '32px', borderBottom: '1px solid #ddd' } }></th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{ pendingFiles.map( ( item, i ) => (\n\t\t\t\t\t\t\t<tr key={ i }>\n\t\t\t\t\t\t\t\t<td style={ { padding: '4px 8px', fontSize: '13px', maxWidth: '180px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' } }>\n\t\t\t\t\t\t\t\t\t{ item.file.name }\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td style={ { padding: '4px 8px' } }>\n\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\tvalue={ item.srcLang }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( v ) => updatePending( i, 'srcLang', v ) }\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"en\"\n\t\t\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Language Code', 'bulk-caption-upload' ) }\n\t\t\t\t\t\t\t\t\t\tstyle={ { margin: 0 } }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td style={ { padding: '4px 8px' } }>\n\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\tvalue={ item.label }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( v ) => updatePending( i, 'label', v ) }\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"English\"\n\t\t\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Label', 'bulk-caption-upload' ) }\n\t\t\t\t\t\t\t\t\t\tstyle={ { margin: 0 } }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td style={ { padding: '4px 8px', textAlign: 'center' } }>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\tonClick={ () => removePending( i ) }\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Remove', 'bulk-caption-upload' ) }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t✕\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t) }\n\n\t\t\t{ error && (\n\t\t\t\t<Notice status=\"error\" isDismissible={ false } style={ { marginBottom: '16px' } }>\n\t\t\t\t\t{ error }\n\t\t\t\t</Notice>\n\t\t\t) }\n\n\t\t\t<div style={ { display: 'flex', justifyContent: 'flex-end', gap: '8px', marginTop: '8px' } }>\n\t\t\t\t<Button variant=\"secondary\" onClick={ onClose } disabled={ uploading }>\n\t\t\t\t\t{ __( 'Cancel', 'bulk-caption-upload' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tisBusy={ uploading }\n\t\t\t\t\tdisabled={ ! pendingFiles.length || uploading }\n\t\t\t\t\tonClick={ handleApply }\n\t\t\t\t>\n\t\t\t\t\t{ pendingFiles.length === 0\n\t\t\t\t\t\t? __( 'Upload & Apply', 'bulk-caption-upload' )\n\t\t\t\t\t\t: `${ __( 'Upload & Apply', 'bulk-caption-upload' ) } (${ pendingFiles.length } ${ pendingFiles.length !== 1 ? __( 'files', 'bulk-caption-upload' ) : __( 'file', 'bulk-caption-upload' ) })` }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n\n// ---------------------------------------------------------------------------\n// Higher-Order Component — injects toolbar button into Presto Player blocks\n// ---------------------------------------------------------------------------\n\nconst withBulkCaptionUpload = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn function BulkCaptionBlockEdit( props ) {\n\t\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\n\t\t// Only target Presto Player blocks that have a `tracks` attribute\n\t\tif (\n\t\t\t! props.name.startsWith( 'presto-player/' ) ||\n\t\t\t! Array.isArray( props.attributes.tracks )\n\t\t) {\n\t\t\treturn <BlockEdit { ...props } />;\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\tlabel={ __( 'Bulk Upload Captions', 'bulk-caption-upload' ) }\n\t\t\t\t\t\t\ticon=\"media-code\"\n\t\t\t\t\t\t\tonClick={ () => setIsModalOpen( true ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t</BlockControls>\n\t\t\t\t{ isModalOpen && (\n\t\t\t\t\t<BulkCaptionModal\n\t\t\t\t\t\tattributes={ props.attributes }\n\t\t\t\t\t\tsetAttributes={ props.setAttributes }\n\t\t\t\t\t\tonClose={ () => setIsModalOpen( false ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t);\n\t};\n}, 'withBulkCaptionUpload' );\n\naddFilter(\n\t'editor.BlockEdit',\n\t'bulk-caption-upload/with-bulk-upload',\n\twithBulkCaptionUpload\n);\n"],"names":["addFilter","createHigherOrderComponent","Fragment","useState","BlockControls","ToolbarGroup","ToolbarButton","Modal","Button","TextControl","FormFileUpload","Notice","__","LANGUAGE_MAP","af","ar","bg","bn","ca","cs","cy","da","de","el","en","es","et","eu","fa","fi","fr","ga","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kn","ko","lt","lv","mk","ml","mr","ms","mt","nl","no","pa","pl","pt","ro","ru","sk","sl","sq","sr","sv","sw","ta","te","th","tl","tr","uk","ur","vi","zh","zu","english","spanish","french","german","italian","portuguese","russian","japanese","korean","chinese","arabic","hindi","dutch","polish","turkish","swedish","danish","norwegian","finnish","greek","czech","romanian","hungarian","ukrainian","thai","vietnamese","indonesian","malay","hebrew","persian","bengali","BCP47_OVERRIDE_MAP","srcLang","label","detectLanguageFromFilename","filename","withoutExt","replace","tokens","split","filter","Boolean","i","length","token","lower","toLowerCase","bcp47","match","langCode","regionCode","toUpperCase","langLabel","entry","BulkCaptionModal","attributes","setAttributes","onClose","pendingFiles","setPendingFiles","uploading","setUploading","error","setError","addFilesToPending","files","vttFiles","Array","from","f","name","endsWith","type","newItems","map","file","detected","prev","handleDrop","event","preventDefault","dataTransfer","handleDragOver","handleFileInput","target","updatePending","index","field","value","item","removePending","_","handleApply","mediaUpload","wp","data","select","getSettings","currentTracks","tracks","results","fill","completedCount","forEach","allowedTypes","filesList","onFileChange","media","url","startsWith","src","validTracks","onError","createElement","title","onRequestClose","style","maxWidth","width","className","onDragOver","onDrop","border","borderRadius","padding","textAlign","marginBottom","backgroundColor","cursor","multiple","accept","onChange","render","openFileDialog","variant","onClick","margin","color","fontSize","borderCollapse","borderBottom","key","overflow","textOverflow","whiteSpace","v","placeholder","hideLabelFromVision","isDestructive","status","isDismissible","display","justifyContent","gap","marginTop","disabled","isBusy","withBulkCaptionUpload","BlockEdit","BulkCaptionBlockEdit","props","isModalOpen","setIsModalOpen","isArray","icon"],"sourceRoot":""}